🔧 Bitget Trading System v3.0 - 문제 해결 가이드
================================================================
날짜: 2025-08-03
수정자: Claude Code

🚨 발견된 오류들과 해결방안:

1. WebSocket 연결 오류
❌ 문제: instType "SPOT" 사용으로 선물 시세 구독 실패
✅ 해결: instType을 "UMCBL"로 변경 (USDT-M 선물)

2. 포지션 모드 오류  
❌ 문제: "unilateral position" 모드 불일치
✅ 해결: marginMode='isolated', positionSide='net' 추가

3. 수학적 계산 오류
❌ 문제: 0으로 나누기 오류 발생
✅ 해결: denominator 검증 로직 추가

4. 최소 주문 금액 문제
❌ 문제: $50 최소값이 너무 높음
✅ 해결: $15로 조정 (Bitget 실제 요구사항)

================================================================

🔑 API 키 설정 확인사항:

현재 권한 (모두 OK):
- Futures|Orders ✅
- Futures|Holdings ✅  
- Spot|Trade ✅
- Margin|Trade ✅
- Wallet|Transfer ✅
- Taxation|Search ✅

추가 확인 필요:
1. IP 주소 제한 해제
   - Bitget → API 관리 → IP 화이트리스트
   - 현재 IP 주소 추가 또는 제한 해제

2. 포지션 모드 설정
   - Bitget 웹 → 선물 거래 → 포지션 모드
   - "단방향 포지션 모드" 선택

3. 계좌 활성화
   - 선물 계좌가 활성화되어 있는지 확인
   - 충분한 USDT 잔고 확인

================================================================

🧪 테스트 방법:

1. 시스템 재시작
   python main_trading_system.py

2. 웹 대시보드 확인
   http://localhost:8000/dashboard

3. 로그 모니터링
   - WebSocket 연결 성공 확인
   - 주문 실행 오류 해결 확인
   - 포지션 관리 정상 작동 확인

================================================================

📞 문제 지속 시 체크리스트:

□ Bitget API 키 IP 제한 해제
□ 선물 계좌 활성화 확인  
□ USDT 잔고 충분한지 확인 (최소 $100 권장)
□ 포지션 모드 단방향으로 설정
□ VPN 사용 시 안정적인 IP 사용

================================================================

🎯 예상 개선 결과:

✅ WebSocket 안정적 연결
✅ 주문 실행 성공률 향상  
✅ 계산 오류 완전 해결
✅ 더 많은 거래 기회 (낮은 최소 금액)
✅ 전체적인 시스템 안정성 향상

================================================================